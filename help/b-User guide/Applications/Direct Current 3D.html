<html>

<head>
	<meta charset="ISO-8859-1">
	<TITLE>Direct current 3D</TITLE>
	<!-- CHAMAMOS Ó CSS -->
	<link rel="stylesheet" type="text/css" href="../../style.css" />
	<!-------------------------------->
</HEAD>

<body lang="EN" id="top">

<h3> <p><a href="#_Toc316292674">3.4. Direct current 3D</a></P></h3>

<a name="top"><strong>Table of contents</strong></a>
<ul>
<li><a href="#what"> What MaxFEM Solves</a></li>
<li><a href="#mesh"> The Mesh</a></li>
<li><a href="#properties"> The Properties</a></li>
<li><a href="#boundary"> The Boundary Conditions</a></li>
<ul>
<li><a href="#dirichlet"> Dirichlet boundary conditions</a></li>
<li><a href="#neumann"> Neumann boundary conditions</a></li>
</ul>
<li><a href="#temperature"> Temperature Dependent Data</a></li>
<li><a href="#post"> Post-Processing Quantities Available</a></li>
<li><a href="#visualization"> Visualization</a></li>
<li><a href="#examples"> Tutorial Examples</a></li>
<ul>
<li><a href="#example1"> Example 1: Cylinder</a></li>
<li><a href="#example2"> Example 2: Cell </a></li>
</ul>
</ul>

<p>&nbsp;</p>

<h3><a name="_Toc316292674">3.4. Direct Current 3D</a></h3>

	<h4><a name="what">&#9633; What MaxFEM Solves</a></h4>

<p>The <b>MaxFEM Direct Current3D</b> application numerically solves direct current three-dimensional problems in Cartesian coordinates. You can find extensive information about the <!--<a href="../../c-Math models/Direct Current.html">-->Direct Current mathematical model in the <a href="../../c-Math models/index.html">MaxFEM Models</a> user guide.</p>
<p>The admissible options in both 2D and 3D cases are summarized in the table below.</p>

<div align=center>
<table style="border:none;">
	<tr>
		<td class="fila_superior1"><b>Material properties(&#963;)</b></td>
		<td class="fila_superior2"><b>2D</b></td>
		<td class="fila_superior2"><b>3D</b></td>
	</tr>
	<tr>
		<td class="fila_intermedia1">Linear and isotropic</td>
		<td class="fila_intermedia2">Yes</td>
		<td class="fila_intermedia2">Yes</td>
	</tr>
	<tr>
		<td class="fila_final1">Linear and orthotropic</td>
		<td class="fila_final2">Yes</td>
		<td class="fila_final2">Yes</td>
	</tr>

</table>
</div>

<p>For the numerical approximation of Direct Current problems, MaxFEM uses Lagrange <!--<a href="../../c-Math models/Appendix A.html">-->finite elements of order one to compute the electric potential <i>V</i>. Thus the electric field is approximated by piecewise functions in each element of the mesh (triangles in 2D and tetrahedra in 3D).</p>

<p>To use the Direct current application the user needs:</p>

<OL>
	<LI><p>To provide a finite element <a href="#mesh">mesh</a> of the domain: menu <b>Mesh</b>.</p>
	<LI><p>To impose the <a href="#boundary">boundary conditions</a> on the boundaries: menu <b>Boundary Conditions</b>.</p>
	<LI><p>To assign materials to the different components of the domain: menu <b>Properties</b>. Materials must be previously selected and/or defined in the <b>Materials database</b>.</p>
		<LI><p>To solve the problem in direct or <a href="../Graph_interface/run_remote.html">remote mode</a>: menu <b>Solver/Run</b> or <b>Solver/Run remote</b>, respectively. The user can stop the computation before it is completed in the label <b>Solver/Stop</b>.</p>
	<LI><p>Once the problem has been solved, several quantities and fields based on the potential can be computed. It is also possible to create displays of the results: menu <b><a href="#visualization">Visualization</a></b>.</p>
</OL>

<p>All the previous steps are described in the items below</p>

<div class="back"><a href="#top">Back to top</a></div>

<p>&nbsp;</p>
<h4><a name="mesh">&#9633; The Mesh</a></h4>

<p>MaxFEM does not include a mesh generator tool so the user must provide its own meshes. In the Direct current application, mesh files can be in 
<a href="../Graph_interface/MaxFEM mesh files.html#unv">unv</a> or 
<a href="../Graph_interface/MaxFEM mesh files.html#mfm">mfm</a>
format (see section 
<a href="../Graph_interface/MaxFEM mesh files.html">MaxFEM mesh files</a>
 for a complete description of the mesh formats).  MaxFEM allows P1 Lagrange triangular finite elements for 2D problems and P1 Lagrange tetrahedral finite elements in the 3D case. Mesh may be loaded from the <b>Mesh</b> menu by choosing</p>

<p style='text-align:center'><b>Mesh  &rarr;	Open &rarr;</b> <b class="gris">Choose mesh file &rarr;</b><i>name.unv</i></p>

Preferably, mesh file must be in <a href="../Graph_interface/MaxFEM mesh files.html#unv">unv format</a>, but <a href="../Graph_interface/MaxFEM mesh files.html#mfm">mfm format</a> is also allowed. 
<br><br>
<div class="back"><a href="#top">Back to top</a></div>

<p>&nbsp;</p>
<h4><a name="properties">&#9633; The Properties</a></h4>
<p>In the menu <b>Properties</b> the user can assign a material to the different parts of the computational domain.</p>
<OL type=a>
	<LI><p>First, you must select the number assigned to the surface reference in the mesh (1, for instance)</P>
<P style='text-align:center'><b>Properties &rarr; Materials &rarr;</b><b class="gris"> Choose surface references &rarr;</b> <i>1</i> </P>
	<LI><p>Then, you select the material (copper, for instance)</p>
<P style='text-align:center'><b>Properties &rarr; Materials &rarr;</b><b class="gris"> Choose material &rarr;</b> <i>copper</i> </P>	
</OL>

<div class="back"><a href="#top">Back to top</a></div>

<p>&nbsp;</p>
<h4><a name="boundary">&#9633; The Boundary Conditions</a></h4>
<p><b>Boundary conditions</b> is a menu entry to define boundary conditions and attach them to boundaries. Direct Current application considers two types of boundary conditions.</p>

<p style="COLOR:#8000ff;">
<b><a name="dirichlet"><i>Dirichlet boundary conditions</i></a></b>
</p>

<p>In this case, the value V<sub>D</sub> of the electrostatic potential on the boundary  &#915<sub>D</sub> must be given. To do that, you need:</p>

<OL type=a>
<li><p>Define the boundary condition (for instance, blocking_1) </p>
    <p><b>Boundary conditions &rarr; Dirichlet: electrostatic potential, V (V) &rarr;</b> <i>blocking_1</i> <b class="gris">&rarr; Add</b> </p>
<li><p>Define the boundary condition via a constant or a precompiled function </p>
    <p><b class="gris">Dirichlet conditions:</b> <i>blocking_1</i> </p>
	<p><b class="gris">The condition is given by:</b> A constant or a function </p>
<li><p>Assign the boundary condition to the corresponding boundary reference(s). For instance: </p>
    <p><b class="gris">The condition is given by &rarr; A constant &rarr; Line references &rarr;</b> <i>1 2 4</i> </p>
<li><p>If V<sub>D</sub>  takes a constant value, define this value: </p>
    <p><b class="gris">The condition is given by: A constant &rarr; Constant value &rarr;</b> <i>0.10</i> </p>
<li><p>If V<sub>D</sub> is a precompiled function, select  <i>“Function defined by user”</i>: </p>
    <p><b class="gris">The condition is given by: A function &rarr; Function name &rarr; Function defined by user  </b></p>
	<p>In this case, the user must edit the file <b>modulos_electros.f90</b> of the folder $INSTALLDIR/sources/direct_current_3D/ of the installing directory and define its own function in the line 699 of the <b>module bloqueo</b>, just after the sentence</p>
	
 
<code>
if (dir%fun(indice)  == 1) then ! 'Function defined by user'<br>
!'User defined: Function defined by user'
</code>
	
<li><p>Then, you must <a href="../Graph_interface/Solvers compilation and installation.html">recompilate the solver</a> before running it. </p>	
</OL>

<p style="COLOR:#8000ff;">
<b><a name="neumann"><i>Neumann boundary conditions</i></a></b>
</p>

<p>
There are two Neumann boundary conditions available: inward current flow and inward current intensity.</p>

<p><b>Inward current flow</b></p>

<p>In this case, the value -<b>J</b>·<b>n</b> of the inward current density at the boundary &#8706;&#937;<sub>N</sub> must be given. To do that, you need to follow the same steps as for the Dirichlet conditions but selecting </p>

<p style='text-align:center'>
<b>Boundary conditions &#8594; Neumann: inward current flow, -<b>J</b>·<b>n</b> (A/m<sup>2</sup>)</b>
</p>

<OL type=a>
<LI><p>If the user defines -<b>J</b>·<b>n</b> as a precompiled function, select <i>"Function defined by user"</i> as follows:</p>
	<p><b class="gris">The condition is given by: A function &rarr; Function name &rarr; Function defined by user  </b></p>
	
	<p>In this case, the user must edit the file <b>modulos_electros.f90</b> of the folder $INSTALLDIR/sources/direct_current_3D/ 
	of the installing directory and define its own function in the line 754 of the <b>module neumann</b>, just after the sentence</p>

<code>if (neu%fun(indice)  == 1) then ! 'Function defined by user'<br>
!'User defined: Function defined by user'
</code>

<li><p>Then, you must <a href="../Graph_interface/Solvers compilation and installation.html">recompilate the solver</a> before running it. </p>	
</OL>

<p><b>Inward current intensity</b></p>

<p>In this case, the value <b>I</b> of the inward current intensity at the boundary &#8706;&#937;<sub>N</sub> must be given. Again, to do that you need to follow the same steps as for the Dirichlet conditions but selecting
</p>

<p style='text-align:center'><b>Boundary conditions &#8594; Neumann: inward current intensity, I (A)</b></p>


<OL type=a>
<LI><p>If the user defines <b>I</b> as a precompiled function, select <i>"Function defined by user"</i> as follows:</p>
	<p><b class="gris">The condition is given by: A function &rarr; Function name &rarr; Function defined by user  </b></p>
	
	<p>In this case, the user must edit the file <b>modulos_electros.f90</b> of the folder $INSTALLDIR/sources/direct_current_3D/ 
	of the installing directory and define its own function in the line 803 of the <b>module intensidades</b>, just after the sentence</p>

<code>if (intf%fun(indice)  == 1) then ! 'Function defined by user'<br>
!'User defined: Function defined by user'
</code>

<li><p>Then, you must <a href="../Graph_interface/Solvers compilation and installation.html">recompilate the solver</a> before running it. </p>	
</OL>
	
<div class="back"><a href="#top">Back to top</a></div>

<p>&nbsp;</p>


<h4><a name="temperature">&#9633; Temperature Dependent Data</a></h4>

<p>If a physical quantity describing a material is temperature dependent, the user must select this option in the item <b>Data</b> of the menu bar:</p>

<p style='text-align:center'><b>Data&#8594;Temperature field for materials T (ºC)</b></p>

<p>A dialog box appears where the file name which contains the temperature must be given</p>
<p style="text-align:center;">
<b class="gris">Choose temperature field</b>: <i>Temperature.mff</i>
</p> 
<p>The field must be written in <a href="../Graph_interface/MaxFEM mesh files.html#mfm">mff</a> format and contains a value for each of the degrees of freedom of the mesh.</p>

<div class="back"><a href="#top">Back to top</a></div>

<p>&nbsp;</p>
<h4><a name="post">&#9633; Post-Processing Quantities Available </a></h4>
<p>From the resolution of the direct current problem, appropriate derived quantities can be computed. The post-processing quantities available in the MaxFEM direct current application are summarized in the tables below.</p>

<div align=center>
<table  style='border:none'>
 <tr>
  <td class="fila_superior2"> <p><b>Symbol</b></p>
  <td class="fila_superior2"> <p><b>Magnitude</b></p>
  <td class="fila_superior2"> <p><b>Type</b></p>
  <td class="fila_superior2"> <p><b>Unit</b></p>
 </tr>

  <tr>
  <td class="fila_intermedia2"> <p>V</p>
  <td class="fila_intermedia2"> <p>Electrostatic potential</p>
  <td class="fila_intermedia2"> <p>S</p>
  <td class="fila_intermedia2"> <p>V</p>
 </tr>
 
  <tr>
  <td class="fila_intermedia2"> <b>E</b>
  <td class="fila_intermedia2"> <p>Electric field intensity</p>
  <td class="fila_intermedia2"> <p>V</p>
  <td class="fila_intermedia2"> <p>V/m </p>
 </tr>

 <tr>
  <td class="fila_intermedia2"> <b>J</b>
  <td class="fila_intermedia2"> <p>Current density</p>
  <td class="fila_intermedia2"> <p>V</p>
  <td class="fila_intermedia2"><p>A/m<sup>2</sup></p>
 </tr> 
 
  <tr>
  <td class="fila_final2"> T
  <td class="fila_final2"> <p>Temperature</p>
  <td class="fila_final2"> <p>S</p>
  <td class="fila_final2"><p>ºC</p>
 </tr> 
</table>
</div>
	<p  style='text-align:center'>Direct current application postprocessing quantities<br>S: Scalar quantity, V: vectorial quantity</p>

<div class="back"><a href="#top">Back to top</a></div>
	
<p>&nbsp;</p>
<h4><a name="visualization">&#9633; Visualization</a></h4>
<p>MaxFEM provides a  set tools for postprocessing and visualization which are available through the item <b>Visualization</b>  of the menu bar. The options and their characteristics are summarized in the table below.</p>


<table  border="1" bordercolor=#000000; style="border-style:solid">
	<tr>
		<td class="fila_superior22">	<b>Item</b> </td>
		<td class="fila_superior11">	<b>Visualization options</b> </td>
		<td class="fila_superior33">	<b>Description</b> </td>  
	</tr>
	<tr>  
		<td class="columna_primera" rowspan="7"><p><b>Mesh</b></p></td>
		<td class="fila_intermedia3">Triangulation</td>
		<td class="fila_intermedia3">Represents the mesh of the domain.</td>
	</tr>
	<tr><td class="fila_intermedia3">Surface references</td>
		<td class="fila_intermedia3">Displays subdomains reference number.</td>
	</tr>
	<tr><td class="fila_intermedia3">Line references</td>
		<td class="fila_intermedia3">Displays lines reference number.</td>
	</tr>
	<tr><td class="fila_intermedia3">Point references</td>
		<td class="fila_intermedia3">Displays points reference number.</td>
	</tr>
	<tr><td class="fila_intermedia3">Element numbering</td>
		<td class="fila_intermedia3">Displays elements reference number.</td>
	</tr>
	<tr><td class="fila_intermedia3">Vertex numbering</td>
		<td class="fila_intermedia3">Displays the number of a vertex previously chosen with the mouse.</td>
	</tr>
	<tr><td class="fila_intermedia3">Materials</td>
		<td class="fila_intermedia3">Displays the name of the material assigned to a subdomain.</td>
	</tr>

	<tr>  
		<td class="columna_primera" rowspan="4"><p><b>Temperature field</b> T,<br><b>Potential</b> V </p></td>
		<td class="fila_intermedia3">Filled</td>
		<td class="fila_intermedia3">Displays the field  distribution on the domain.</td>
	</tr>
	<tr><td class="fila_intermedia3">Threshold</td>
		<td class="fila_intermedia3">Extracts the cells that fall between a given lower and upper thresholds of the field.</td>
	</tr>
	<tr><td class="fila_intermedia3">Isosurfaces</td>
		<td class="fila_intermedia3">Displays the surface along which the field has a constant value. A set of scalar values can be specified to display more than one isoline at once.</td>
	</tr>
	<tr><td class="fila_intermedia3">Plot over line</td>
		<td class="fila_intermedia3">Cuts a 3D data object with a line. An interactive widget can be used for placing the line in the desired place. </td>
	</tr>
 
	<tr>  
		<td class="columna_primera" rowspan="2"><p><b>Electric field E</b></p></td>
		<td class="fila_intermedia3">Vectors</td>
		<td class="fila_intermedia3">Displays the vector field <b>E</b>.</td>
	</tr>
	<tr><td class="fila_intermedia3">Vectors components</td>
		<td class="fila_intermedia3">Displays the component of the vector field <b>E</b>.</td>
	</tr>
<tr>  
		<td class="columna_primera" rowspan="2"><p><b>Current density J</b></p></td>
		<td class="fila_intermedia3">Vectors</td>
		<td class="fila_intermedia3">Displays the vector field <b>J</b>.</td>
	</tr>
	
	<tr><td class="fila_intermedia3">Vectors components</td>
		<td class="fila_intermedia3">Displays the components of the vector field <b>J</b>.</td>
	</tr>

	<tr><td class="columna_primera"><b>Close all</b></td>
		<td class="fila_intermedia3">--- </td>	
		<td class="fila_intermedia3">Close all the windows containing visualization results. </td>
	</tr>
	
</table>
<p>&nbsp;</p>


<p>The user can modify the arrows size by using the parameter <b class="gris">Scale</b> in the dialog box:</p>
<p style="text-align:center;">
<b>Electric field</b> &rarr; <b class="gris">Vectors &rarr; Choose options for arrows &rarr; Scale</b></p>

<p>It is also possible to modify the number of vectors in the plot by using the parameter <b class="gris">Density</b> in the dialog box:</p>
<p style="text-align:center;">
<b>Electric field</b> &rarr; <b class="gris">Vectors &rarr; Choose options for arrows &rarr; Density</b></p>

<p>&nbsp;</p>
<div align=center>
<table>
	<tr><td>Scale: 0.07 ;Density: 50%</td>
		<td>Scale: 0.07 ;Density: 100%</td>	
	</tr>	
	<tr><td><img border=0 width=310 height=222 src="EL2D_Graph_images/image004.jpg"></td>
		<td><img border=0 width=310 height=222 src="EL2D_Graph_images/image005.jpg"></td>	
	</tr>
	<tr><td>Scale: 0.3  ;Density: 50%</td>
		<td>Scale: 0.3  ;Density: 100%</td>	
	</tr>	
	<tr><td><img border=0 width=310 height=222 src="EL2D_Graph_images/image006.jpg"></td>
		<td><img border=0 width=310 height=222 src="EL2D_Graph_images/image007.jpg"></td>	
	</tr>	
</table>
</div>


<p>It is also possible to plot the components of the vectorial magnitude. For instance, in order to plot the first component of the electric field:</p>
<p style='text-align:center'><b>Electric field &#8594;</b><b class="gris">Vectors components &#8594;  Choose a component &#8594;  1st component</b></p>

<div class="back"><a href="#top">Back to top</a></div>

<p>&nbsp;</p>
<h4><a name="examples">&#9633; Tutorial Examples</a></h4>
<p>The goal of this section is to familiarize the user with the MaxFEM Direct Current application by using simple examples. These examples contain the general steps and all the data needed to describe the physics and solve the given cases.</p>
<p>The following examples can be found:</p>

<UL>
	<LI><p><a href="#example1">Example 1: Cylinder</a></p>
	<LI><p><a href="#example2">Example 2: Cell</a></p>
</LI>

<div class="back"><a href="#top">Back to top</a></div>

<div style="margin-left:-30pt;">

<p>&nbsp;</p>
<h4 style="background-color:#E6E6E6;"><a name="example1"><font COLOR="black"> Example 1:  Cylinder</font></a></h4>

<!--  EJEMPLO1 -->
<p><b><i><font color="blueviolet">Statement of the problem</font></i></b></p>

<p>In this example, the electrostatic potential V generated in the right circular cylinder of radius 0.25 and height 4
  by current intensity at its bottom surface (z=-2) is computed. </p>
  The solution is given by 
<p style='text-align:center'><style>
    table.num_eqn { width:99%;  text-align: center; vertical-align: middle;
        margin-top:0.5em; margin-bottom:0.5em; line-height: 2em; }
    td.eqn_number { text-align:right; width:7em; }
</style>

<table class="num_eqn" cellpadding="0" cellspacing="0">
    <tr>
        <td>
<p><img border=0  src="DC3D_Graph_images/image001.png"></p>
        <td class="eqn_number">
            (1)
        </td>
    </tr>
</table>

<p> The material of the rectangle was previously defined in the <b>Materials database</b> as <i>Test material 5</i>. 
Its electrical conductivity is given by &#963=1  S.m<sup>-1</sup>.</p>

<p> The boundary conditions
are given as follows:</p>

<OL>
	<LI><p>Homogeneous <b>Dirichlet Boundary Condition</b> at the top surface.</p>
	<LI><p><b>Current Intensity Condition</b> at the bottom surface.</p>
	<LI><p>Homogeneous <b>Neumann Boundary Condition</b> at the side boundary.</p>
</OL>

<p>&nbsp;</p>

<p><i><b><font color="blueviolet">Resolution procedure</font></b></i></a></p>

<OL>
	<LI><p>Once MaxFEM is open, the user must select the application <b>Direct
 Current 3D</b> from the <b>Project</b> of the menu bar.</p>
<p style='text-align:center'><b>Project</b> &#8594;  <b>Applications</b>&#8594;  <b>Direct current 3D</b></p>
<p>Remember that before start to work with a particular application, the user must
choose a working directory.</p>
<p>Then, from the item <b>Project</b> item of the Menu bar, select</p>
<p style='text-align:center'><b>Project</b> &#8594;  <b>Sample Data</b>&#8594;  <b>Example 1: Cylinder</b></p>

<LI><p>The computational domain is the aforementioned cylinder. The user must
upload the mesh <i>mallacilindro_tet.mfm</i> from the <b>Mesh</b> item of the menu bar.</p>
<P style='text-align:center'><b>Mesh &#8594;  Open &#8594;  </b><b class="gris">Choose mesh file &#8594; </b> <i>mallacilindro_tet.mfm</i> </P>	

<p>The user can display the mesh of the computational domain by choosing the option
<b>Visualization &#8594;  Mesh</b> of the Menu bar. If not, the computational domain will be
displayed when selecting any item from the menu bar. After we have introduced the mesh, we start to go through the menu bar from the left to right  choosing the different options related to the whole simulation.</p>
<LI><p>The material considered in this example is the so-called <i>Test material 5</i> and their
properties have been previously defined in the materials database of the interface.
To assign this material to the computational domain, the user must:</p>

<OL type=a> <LI><p>  Select the item <b>Properties &#8594; Materials</b> of the Menu bar.  </p>
<LI><p> In the <b class="gris">Choose surface references</b> dialog box, select the reference <i>1</i>.</p>
<LI><p>The dialog box <b class="gris">Choose material</b> appears; 
by default, the material named <i>Test material 5</i> associated to the reference <i>1</i> is displayed.
</OL>
<p> The user can display the different properties of this material in <b>Materials
database</b> item of the menu bar. To do that, </p>
<OL type=a>
<LI> <p>Select the option <b>Materials database &#8594;  Open</b> </p>
<LI> <p>A dialog box appears where the different materials are displayed. Select <i>Test material 5</i>. </p>
<LI> <p>A new dialog box appears where the different electromagnetic magnitudes are displayed. Click on the property of your interest, for instance, <b class="gris">Electrical conductivity</b>.</p>
<LI> <p> Choose <b class="gris">A constant</b> in the box below and then <b class="gris">Isotropic</b> in the <b class="gris">Behavior</b> box.</p>
<LI> <p> Click on <b class="gris">Value</b> to introduce the values of the electrical conductivity, in this example, <i>1</i>.</p>

</OL>
<LI><p> Now we are going to impose the boundary conditions. A Dirichlet boundary
condition V=<i<0</i> is imposed in boundary 4 where z=2. In order to impose this boundary condition the user must:</p>
<OL type=a>
<LI> <p> Select the option <b>Boundary conditions &#8594; Dirichlet: electric scalar
potential</b> in the menu bar.</p>
<LI> <p> Click on <i>Condition 1</i> on the <b class="gris">Dirichlet conditions</b> dialog box.</p>
<LI> <p> In the dialog box <b class="gris">The condition is given by</b>, select the option <b class="gris">A constant</b></p>
<LI> <p> Click on <b class="gris">Surface references</b>. By default, number <i>4</i> associated to this reference is displayed in the box below. </p>
<LI> <p>Click on <b class="gris">Constant value</b> and write <i>0</i>.</p>
<LI> <p> Select the option <b>Boundary conditions &#8594; Neumann: inward current intensity, I (A)</b> in the menu bar.</p>
<LI> <p> Click on <i>Condition 2</i> on the <b class="gris">Neumann conditions</b> dialog box.</p>
<LI> <p> In the dialog box <b class="gris">The condition is given by</b>, select the option <b class="gris">A constant</b></p>
<LI> <p> Click on <b class="gris">Surface reference</b>. By default, number <i>3</i> associated to this reference is displayed in the box below. </p>
<LI> <p>Click on <b class="gris">Constant value</b> and write <i>-0.589</i>. This value corresponds to the integral of <i>&#963; &#8711; V · n</i>, where <i>n=(0,0,-1)<sup>t</sup></i>, over the bottom circular boundary.</p>
</OL>
Note that the user does not have to introduce the homogeneous <b>Neumann Boundary Condition</b> at the side boundary, this one being the default boundary condition of MaxFEM .</p>
<LI>  <p>Select the item <b>Run</b> (or <b>Run remote</b> depending on your preference) of the menu bar to proceed with the resolution of the problem.</p>
<LI>  <p>Select the item <b>Visualization</b> of the menu bar to display the results. For instance, to display the electric potential, proceed as follows <p>

<OL type=a>
<LI> <p> Click on the option <b>Potential</b> to display the potential. A dialog box appears
where the user can choose the field representation. </p>
<LI> <p> Choose the option <b class="gris">Filled</b> to display the potential in the domain - select the <b class="gris">iso view</b> -.</p>

<P style='text-align:center'><b>Visualization &#8594;  Potential &#8594;</b><b class="gris"> Filled  </b></P>
<p>&nbsp;</p>
<div align=center>
<p><img border=0 width=496 height=310 src="DC3D_Graph_images/image001.jpg"></p>
<p> <b> Figure 1:</b> Electric potential.<p>
</div>


<LI> <p> Choose the option <b class="gris">Plot over line</b> to display the
field along a line. The user can introduce the first and second point
 coordinates in the <b class="gris">Extreme point coordinates</b> dialog box or just moving the two point at the graphic window.</p>

<p>&nbsp;</p>
<div align=center>
<p><img border=0 width=496 height=310 src="DC3D_Graph_images/image002.jpg"></p>
<p> <b> Figure 2:</b> <b class="gris">Plot over line</b> of the electric potential.<p>
</div>

<LI> <p> Choose the option <b class="gris">Cut</b> to display the
field in one part of the body cut by a given plane. The user can introduce the origin and normal vector of the cutting plane in the <b class="gris">Configuration</b> dialog box or just moving the at the graphic window.</p>

<p>&nbsp;</p>
<div align=center>
<p><img border=0 width=496 height=310 src="DC3D_Graph_images/image003.jpg"></p>
<p> <b> Figure 3:</b> <b class="gris">Cut</b> of the electric potential.<p>
</div>

<LI> <p> Choose the option <b class="gris">Slice</b> to display the
field in one given plane. The user can introduce the origin and normal vector of the plane in the <b class="gris">Configuration</b> dialog box or just moving the at the graphic window.</p>

<p>&nbsp;</p>
<div align=center>
<p><img border=0 width=496 height=310 src="DC3D_Graph_images/image004.jpg"></p>
<p> <b> Figure 4:</b> <b class="gris">Slice</b> of the electric potential.<p>
</div>

<LI> <p> To display the electric field, choose the option <b>Visualization &#8594; Electric field</b> of the menu bar. 
Select the option <b class="gris">Vectors</b> of the dialog box and then
state the values for the scale and density of the arrows on the boxes below.
For this picture, the scale is <i>0.07</i> and density is <i>100</i>.</p>

<p>&nbsp;</p>
<div align=center>
<p><img border=0 width=496 height=310 src="DC3D_Graph_images/image005.jpg"></p>
<p> <b> Figure 5:</b> Electric field.<p>
</div>

</OL>
</OL>

<!--  FIN DE EJEMPLO1  -->

<div class="back"><a href="#top">Back to top</a></div>

<p>&nbsp;</p>
<h4 style="background-color:#E6E6E6;"><a name="example2"><font COLOR="black">Example 2: Cell </font></a></h4>

<!--  EJEMPLO2 -->
<p><b><i><font color="blueviolet">Statement of the problem</font></i></b></p>

<p>In this example, the electrostatic potential <i>V</i> generated in an electrolytic cell
  by a current intensity at its cathodic bar is computed. 
The materials were previously defined in the <b>Materials database</b> as collector bar, cathodic block, rammed paste and cast iron as the following figure depicts. 

<p>&nbsp;</p>
<div align=center>
<p><img border=0 width=496 height=310 src="DC3D_Graph_images/image006.jpg"></p>
<p> <b> Figure 1:</b> Materials of the cell.<p>
</div>

<p> The boundary conditions
are given as follows:</p>

<OL>
	<LI><p>Homogeneous <b>Dirichlet Boundary Condition</b> on the top boundary.</p>
       <LI><p><b>Current density </b> on its cathodic bar.</p>
    <LI><p>Homogeneous <b>Neumann Boundary Condition</b> on the other boundaries.</p>

</OL>

In this case, the problem has no analytic solution. 


<p>&nbsp;</p>

<p><i><b><font color="blueviolet">Resolution procedure</font></b></i></a></p>

<OL>
	<LI><p>Once MaxFEM is open, the user must select the application <b>Direct
 Current 2D</b> from the <b>Project</b> of the menu bar.</p>
<p style='text-align:center'><b>Project</b> &#8594;  <b>Applications</b>&#8594;  <b>Direct current 2D</b></p>
<p>Remember that before start to work with a particular application, the user must
choose a working directory.</p>
<p>Then, from the item <b>Project</b> of the Menu bar, select</p>
<p style='text-align:center'><b>Project</b> &#8594;  <b>Sample Data</b>&#8594;  <b>Example 2: Cell</b></p>

<LI><p>The computational domain is depicted in the previous figure. The user must
upload the mesh <i>mallacubaelec.mfm</i> from the <b>Mesh</b> item of the menu bar
.</p>
<P style='text-align:center'><b>Mesh &#8594;  Open &#8594; </b><b class="gris"> Choose mesh file &#8594; </b> <i>mallacubaelec.mfm</i> </P>	

<p>The user can display the mesh of the computational domain by choosing the option
<b>Visualization &#8594;  Mesh</b> of the Menu bar. If not, the computational domain will be
displayed when selecting any item from the menu bar. After we have the mesh, we start to go through the menu bar from the left to right
and we choose the different options related to the whole simulation.</p>
<LI><p>The materials considered in this example are the collector bar, cathodic block, rammed paste and cast iron and their
properties have been previously defined in the materials database of the interface.
To assign these materials to the computational domain, the user must:</p>

<OL type=a> <LI><p>  Select the item <b>Properties &#8594; Materials</b> of the Menu bar.  </p>
<LI><p> In the <b class="gris">Choose domain references</b> dialog box, select the reference <i>5</i>, click on <b class="gris">Choose material</b> dialog box, and select <i>collector bar</i>.</p>
<LI><p> In the <b class="gris">Choose domain references</b> dialog box, select the reference <i>7</i>, click on <b class="gris">Choose material</b> dialog box, and select <i>cathodic block</i>.</p>
<LI><p> In the <b class="gris">Choose domain references</b> dialog box, select the reference <i>8</i>, click on <b class="gris">Choose material</b> dialog box, and select <i>rammed paste</i>.</p>
<LI><p> In the <b class="gris">Choose domain references</b> dialog box, select the reference <i>27</i>, click on <b class="gris">Choose material</b> dialog box, and select <i>cast iron</i>.</p>
<LI><p> In the <b class="gris">Choose domain references</b> dialog box, select the reference <i>28</i>, click on <b class="gris">Choose material</b> dialog box, and select <i>cast iron</i>.</p>
</OL>
<p> The user can display the different properties of these material in <b>Materials
database</b> item of the menu bar.
<p>&nbsp;</p> 

<LI><p> Now we are going to impose the boundary conditions. A Dirichlet boundary
condition is imposed on boundary 53 introduced as a constant. In order to
impose this boundary condition, the user must:</p>
<OL type=a>
<LI> <p> Select the option <b>Boundary conditions &#8594; Dirichlet: electric scalar
potential</b> in the menu bar.</p>
<LI> <p> Click on <i>Condition 1</i> on the <b class="gris">Dirichlet conditions</b> dialog box.</p>
<LI> <p> In the dialog box <b class="gris">The condition is given by</b>, select the option <b class="gris">A constant</b></p>
<LI> <p> Click on <b class="gris">Surface reference</b>. By default, number <i>53</i> associated to this
reference is displayed in the box below. </p>
<LI> <p>Click on <b class="gris">Constant value</b> and write <i>0</i>.</p>
<LI> <p> Select the option <b>Boundary conditions &#8594;Neumann: inward current flow, -<b>J</b>·<b>n</b> (A/m<sup>2</sup>)</b> in the menu bar.</p>
<LI> <p> Click on <i>Condition 2</i> on the <b class="gris">Neumann conditions</b> dialog box.</p>
<LI> <p> In the dialog box <b class="gris">The condition is given by</b>, select the option <b class="gris">A constant</b></p>
<LI> <p> Click on <b class="gris">Surface reference</b>. By default, number <i>32</i> associated to this
reference is displayed in the box below. </p>
<LI> <p>Click on <b class="gris">Constant value</b> and write <i>4577</i>.</p>

</OL>
<p>Note that the user does not have to introduce the homogeneous <b>Neumann Boundary Condition</b> at the other boundaries, this one being the default boundary condition of MaxFEM .</p>
<LI>  <p>Select the item <b>Run</b> (or <b>Run remote</b> depending on your preference) of the menu
bar to proceed with the resolution of the problem.</p>
<LI>  <p>Select the item <b>Visualization</b> of the menu bar to display the results. For instance, to display the electric potential, proceed as follows <p>

<OL type=a>
<LI> <p> Click on the option <b>Potential</b> to display the potential. A dialog box appears
where the user can choose the field representation. </p>
<LI> <p> Choose the option <b class="gris">Filled</b> to display the potential in the domain - select the <b class="gris">iso view</b> -.</p>


<P style='text-align:center'><b>Visualization &#8594;  Potential &#8594;</b><b class="gris"> Filled  </b></P>
<p>&nbsp;</p>
<div align=center>
<p><img border=0 width=496 height=310 src="DC3D_Graph_images/image007.jpg"></p>
<p> <b> Figure 2:</b> Electric potential.<p>
</div>
<LI> <p> Click on the option <b>Current density</b> to display the current density vector over a given domain.
 Choose the subdomains where you wish to display it - in this case <i>5</i> and <i>7</i> - and the vector field representation - in this case <b class="gris">Vectors</b> with a scale of <i>0.0001</i> and density <i>100</i> -.</p>

<div align=center>
<p><img border=0 width=496 height=310 src="DC3D_Graph_images/image008.jpg"></p>
<p> <b> Figure 3:</b> Current density vector in the collector bar and cathodic block.<p>
</div>
</OL>
</OL>

<!--  FIN DE     EJEMPLO 4 -->

<div class="back"><a href="#top">Back to top</a></div>
<p>&nbsp;</p>
</div>


</body></html>











